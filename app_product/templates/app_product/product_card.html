{% if card_layout == 'vertical' %}
  <div class="bg-white rounded-lg shadow overflow-hidden flex flex-col min-h-[180px]">
    <!-- Ø¹Ú©Ø³ -->
    <div class="w-full h-40 bg-gray-100 flex items-center justify-center">
        <img src="{{ product.images.first.image.url }}" alt="{{ product.name }}" class="w-full h-full object-cover">
    </div>

    <!-- Ù…Ø­ØªÙˆØ§ -->
    <div class="p-2 flex-grow flex flex-col justify-between">
      <h3 class="font-bold text-xs line-clamp-2">{{ product.name }}</h3>

      {% if product.discount_percent > 0 %}
        <div class="flex items-center justify-between mt-1">
          <p class="text-discount-dark text-xs line-through">
            {{ product.price|floatformat:0 }} ØªÙˆÙ…Ø§Ù†
          </p>
          <span class="bg-color-dark text-white text-xs font-bold px-2 py-0.5 rounded whitespace-nowrap">
            {{ product.discount_percent }}%
          </span>
        </div>
        <p class="text-color-light font-bold text-xs mt-1">
          {{ product.final_price|floatformat:0 }} ØªÙˆÙ…Ø§Ù†
        </p>
      {% else %}
        <!-- ÙØ¶Ø§ÛŒ Ø®Ø§Ù„ÛŒ Ø¨Ø±Ø§ÛŒ Ù‡Ù…Ø§Ù‡Ù†Ú¯ÛŒ -->
        <div class="h-6"></div>
        <p class="text-color-light font-bold text-xs mt-1">
          {{ product.price|floatformat:0 }} ØªÙˆÙ…Ø§Ù†
        </p>
      {% endif %}

      {% if product.stock == 0 %}
        <p class="text-red-500 text-xs mt-1">Ù†Ø§ Ù…ÙˆØ¬ÙˆØ¯</p>
      {% endif %}
    </div>
  </div>

{% elif card_layout == 'horizontal' %}
  <div class="flex w-full h-24 bg-white rounded-lg shadow overflow-hidden">
    <!-- Ø¹Ú©Ø³ (Ø³Ù…Øª Ú†Ù¾) -->
    <div class="w-24 h-full bg-gray-100 flex items-center justify-center flex-shrink-0">
      <img src="{{ product.images.first.image.url }}" alt="{{ product.name }}" class="w-full h-full object-cover">
    </div>

    <!-- Ù…Ø­ØªÙˆØ§ (Ø³Ù…Øª Ø±Ø§Ø³Øª) -->
    <div class="flex-1 flex flex-col justify-between p-2 text-right">
      <!-- Ù†Ø§Ù… Ù…Ø­ØµÙˆÙ„ (Ø¨Ø§Ù„Ø§) -->
      <h3 class="font-bold text-sm line-clamp-1">{{ product.name }}</h3>
      
      <!-- Ù‚ÛŒÙ…Øª Ùˆ ØªØ®ÙÛŒÙ (Ù¾Ø§ÛŒÛŒÙ†) -->
      <div class="flex items-center gap-2 justify-end">
        {% if product.discount_percent > 0 %}
          <p class="text-gray-400 text-xs line-through">
            {{ product.price|floatformat:0 }}
          </p>
          <span class="bg-color-dark text-white text-xs font-bold px-1.5 py-0.5 rounded">
            {{ product.discount_percent }}%
          </span>
          <p class="text-color-light font-bold text-sm">
            {{ product.final_price|floatformat:0 }} ØªÙˆÙ…Ø§Ù†
          </p>
        {% else %}
          <p class="text-color-light font-bold text-sm">
            {{ product.price|floatformat:0 }} ØªÙˆÙ…Ø§Ù†
          </p>
        {% endif %}
      </div>
    </div>

    <!-- Ø¯Ú©Ù…Ù‡ Ø­Ø°Ù (Ú¯ÙˆØ´Ù‡ Ú†Ù¾) -->
    <button 
      type="button"
      class="flex items-center justify-center px-3 text-red-600 hover:text-red-800 hover:bg-red-50 transition"
      onclick="removeFromCart({{ product.id }})"
    >
      ðŸ—‘
    </button>
  </div>
{% endif %}