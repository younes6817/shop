{% extends "base.html" %}
{% block title %}{{ SHOP_NAME }} - Ø­Ø³Ø§Ø¨ Ú©Ø§Ø±Ø¨Ø±ÛŒ{% endblock %}

{% block content %}
<div class="max-w-md mx-auto py-4 space-y-4">

  {% if user.is_authenticated %}
    <!-- Ú©Ø§Ø±Øª Ø§ØµÙ„ÛŒ Ø­Ø³Ø§Ø¨ Ú©Ø§Ø±Ø¨Ø± -->
    <section class="relative overflow-hidden rounded-2xl bg-color-light text-white p-5 shadow">
      <!-- Ø´Ú©Ù„ Ø¯Ø§ÛŒØ±Ù‡ Ù¾Ø³â€ŒØ²Ù…ÛŒÙ†Ù‡ Ø¨Ø±Ø§ÛŒ Ø¬Ø°Ø§Ø¨ÛŒØª Ø¨ØµØ±ÛŒ -->
      <div class="absolute -top-8 -left-8 w-28 h-28 rounded-full bg-white/20"></div>
      <!-- Ø´Ú©Ù„ Ù…Ø±Ø¨Ø¹ Ú†Ø±Ø®ÛŒØ¯Ù‡ Ø¯Ø± Ù¾Ø³â€ŒØ²Ù…ÛŒÙ†Ù‡ -->
      <div class="absolute -bottom-10 -right-6 w-24 h-24 rotate-12 rounded-2xl bg-white/15"></div>

      <div class="relative z-10 flex items-center gap-4">
        <!-- Ø¢ÛŒÚ©Ù† Ø¨Ø²Ø±Ú¯ Ú©Ø§Ø±Ø¨Ø± -->
        <div class="w-16 h-16 rounded-full bg-white/25 flex items-center justify-center text-3xl">ğŸ‘¤</div>
        <div>
          <!-- Ø§Ú¯Ø± Ù†Ø§Ù… Ø®Ø§Ù„ÛŒ Ø¨ÙˆØ¯ØŒ Ø´Ù…Ø§Ø±Ù‡ Ù…ÙˆØ¨Ø§ÛŒÙ„ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯ -->
          <h1 class="text-xl font-extrabold">
            {% if user.get_full_name %}
              {{ user.get_full_name }}
            {% else %}
              {{ user.phone }}
            {% endif %}
          </h1>
          <p class="text-sm text-white/90">{{ user.phone }}</p>
          {% if user.email %}
            <p class="text-sm text-white/80">{{ user.email }}</p>
          {% endif %}
        </div>
      </div>
    </section>

    <!-- Ú¯Ø²ÛŒÙ†Ù‡â€ŒÙ‡Ø§ÛŒ ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø­Ø³Ø§Ø¨ -->
    <section class="bg-white rounded-2xl shadow p-3">
      <h2 class="text-sm font-bold text-gray-800 mb-3">ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø­Ø³Ø§Ø¨</h2>
      <div class="space-y-2">
        {% for option in profile_options %}
          <a href="{{ option.href }}" class="block rounded-xl border border-gray-100 p-3 hover:bg-gray-50 transition">
            <p class="text-sm font-semibold text-gray-800">{{ option.title }}</p>
            <p class="text-xs text-gray-500 mt-1">{{ option.subtitle }}</p>
          </a>
        {% endfor %}
      </div>
    </section>

    <!-- Ø§Ú©Ø´Ù†â€ŒÙ‡Ø§ÛŒ Ø­Ø³Ø§Ø³ Ø­Ø³Ø§Ø¨: Ø®Ø±ÙˆØ¬ Ùˆ Ø­Ø°Ù -->
    <section class="bg-white rounded-2xl shadow p-3 space-y-2">
      <form method="post" action="{% url 'user:logout' %}">
        {% csrf_token %}
        <button type="submit" class="w-full py-2.5 rounded-xl bg-color-light hover:bg-color-dark text-white font-semibold transition">
          Ø®Ø±ÙˆØ¬ Ø§Ø² Ø­Ø³Ø§Ø¨
        </button>
      </form>

      <form method="post" action="{% url 'user:delete_account' %}" onsubmit="return confirm('Ø§Ø² Ø­Ø°Ù Ø­Ø³Ø§Ø¨ Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ØŸ Ø§ÛŒÙ† Ø¹Ù…Ù„ÛŒØ§Øª Ù‚Ø§Ø¨Ù„ Ø¨Ø§Ø²Ú¯Ø´Øª Ù†ÛŒØ³Øª.');">
        {% csrf_token %}
        <button type="submit" class="w-full py-2.5 rounded-xl bg-red-600 text-white font-semibold">
          Ø­Ø°Ù Ø­Ø³Ø§Ø¨ Ú©Ø§Ø±Ø¨Ø±ÛŒ
        </button>
      </form>
    </section>
  {% else %}
    <!-- Ø­Ø§Ù„Øª Ú©Ø§Ø±Ø¨Ø± Ù„Ø§Ú¯ÛŒÙ†â€ŒÙ†Ø´Ø¯Ù‡ -->
    <section class="rounded-2xl bg-white shadow p-5 text-center">
      <div class="w-16 h-16 rounded-full bg-gray-100 mx-auto mb-3 flex items-center justify-center text-2xl">ğŸ”</div>
      <h1 class="text-lg font-bold text-gray-800">Ø­Ø³Ø§Ø¨ Ú©Ø§Ø±Ø¨Ø±ÛŒ</h1>
      <p class="text-sm text-gray-500 mt-2">Ø¨Ø±Ø§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø§Ù…Ú©Ø§Ù†Ø§Øª Ø­Ø³Ø§Ø¨ Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø¨Ø§ÛŒØ¯ ÙˆØ§Ø±Ø¯ Ø´ÙˆÛŒØ¯.</p>

      <div class="mt-4">
        <a href="{% url 'user:login' %}" class="inline-block px-5 py-2.5 rounded-xl bg-color-light hover:bg-color-dark text-white font-semibold transition">
          ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ø­Ø³Ø§Ø¨
        </a>
      </div>
    </section>
  {% endif %}
</div>
{% endblock %}
